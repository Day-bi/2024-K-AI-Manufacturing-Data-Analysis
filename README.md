# 2024-K-AI-Manufacturing-Data-Analysis
2024 제 4회 k-인공지능 제조데이터 분석 경진대회

## 문제정의
- 분석내용 : 공정설비 개요, 이슈사항 등 해결하고자 하는 문제 및 분석 목적 기술
⇒ 불량을 양품으로 판단하는 오류를 작게 만들기 ←불량을 양품으로 판단하는 원인변수 찾기 

## 제조데이터 정의 및 처리과정
- 2019년 1월 2일 16:45 - 2019년 3월 31일 23:59
- Row : 92106, Column : 31, **passorfail 컬럼이 종속변수**
- 전처리과정, 품질지수 측정내용(완전성, 유효성,일관성, 정확성, 무결성) 등
- 새로운 feature 찾기

## 데이터 분석
- AI로 알고리즘을 짜고 공정 제어를 하거나( Ex) 온도 낮춰라, 공정 속도가 빠르다, 입력 조절) 이런 솔루션을 줘도 사람이 대응할 수 있는 한계가 있음
- 실시간으로 측정되는 센서는 전부 공정 센서임. 완성품인 품질을 측정하는 것은 아주 나중에 알 수 있음 ⇒ 재료에 따라 데이터 측정이 다르게 되는데, 재료가 데이터가 입력되지 않아서 학습 결과와 실제 결과가 다르게 나타남. => 재료조건을 알면 더 실제 결과에 근접한 예측 결과를 낼 수 잇있을 것

### 가설
1. 알루미늄합금이다
2. 관련 변수의 범위를 넘으면 faill(1,불량)이 많다 → 실제 예측값과는 상관 없이 범위를 넘으면 품질에 영향이 갈 것임
3. 그러므로 두가지 모델을 구현할 것임
    1. 관련 변수의 범위를 고려하지 않은 모델
    2. 관련 변수의 범위를 고려한 모델
    3. 두 모델의 비교 후 fail point 식별
### 분석 모델
- Decision Tree : 의사결정 규칙을 생성하는 트리 구조의 알고리즘으로, 주어진 데이터를 기준으로 조건을 분할하여 최종적으로 예측 결과를 도출한다.
- RandomForest : 여러 개의 Decision Tree를 앙상블 방식으로 결합하여 예측 성능을 개선하는 모델이다. 각 트리는 서로 다른 데이터 샘플을 사용하여 독립적으로 훈련되고, 이들을 결합하여 최종 예측을 도출한다. 이 방법은 과적합을 방지하고, 예측의 정확성을 높이며, 각 트리의 예측 결과를 평균화하거나 다수결 방식으로 에측 값을 도출한다.
- LSTM + Transformer: LSTM의 장기 의존성 학습 능력과 Transformer의 효율적인 주의 메커니즘을 결합한 모델은 긴 시계열 데이터에서 중요한 패턴을 포착할 수 있으며, 복잡하고 정밀한 예측에 유리

### 분석 과정
1. 원본 데이터 학습 (전처리 없이)
	이 방법에서는 원본 데이터를 추가적인 전처리 없이 그대로 사용하여 모델을 학습했다. 데이터는 레이블 0이 약 89,000개, 레이블 1이 약 2,000개로 극단적인 불균형 데이터를 포함하고 있다.
2. Min-Max 스케일링을 통한 데이터 전처리 후 학습
	원본 불균형 데이터를 Min-Max 스케일링을 활용하여 값을 정규화한 후 모델을 학습했다. 스케일링을 통해 데이터의 스케일 차이를 해소하고, 모델의 수렴 성능을 향상시키는 것을 목표로 했다.
3. 가중치 조정을 통한 불균형 데이터 학습
	불균형 데이터에서 레이블 1의 비율을 증가시키기 위해, 커스텀 함수를 정의하여 레이블 1의 데이터에 3:1 비율로 추가 가중치를 부여했다. 적은 양의 데이터도 잘 학습될 수 있도록 하여 불균형 문제를 해결할 수 있도록 했다.
4. SMOTE를 이용한 데이터 증강
	SMOTE(Synthetic Minority Over-sampling Technique) 기법을 사용하여 레이블 1 데이터를 40,000개로 증가시키고, 레이블 0 데이터는 무작위로 40,000개를 추출하여 총 80,000개의 데이터로 학습을 진행했다. 데이터의 불균형을 해결하고 모델의 학습을 보다 균형 잡힌 데이터셋으로 진행할 수 있도록 했다.

### 분석 결과
1. 모든 변수 포함


||DisicionTree|DisicionTree(depth=4)|RandomForest|
|------|---|---|---|
|Accuracy|.9879|.9876|.9927|
|F1-score|.8618|.8406|.9130|

2. Tryshot_signal(Nan,D) & heating_furnace(Nan,A,B)

||heating_furnace(A)|heating_furnace(B)|heating_furnace(NaN)|
|------|---|---|---|
|Tryshot_signal(NaN)|.9633|.9406|.8853|
|Tryshot_signal(D)|.|.|.|
